(window["webpackJsonpsimple-blog-test"]=window["webpackJsonpsimple-blog-test"]||[]).push([[0],{44:function(t,e,n){t.exports=n(81)},49:function(t,e,n){},54:function(t,e,n){},55:function(t,e,n){},73:function(t,e,n){},78:function(t,e,n){},79:function(t,e,n){},80:function(t,e,n){},81:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(23),c=n.n(o),s=(n(49),n(18)),i=n(39),l=n(15),u=(n(54),n(16)),m=n(17),p=(n(55),function(){return r.a.createElement("nav",null,r.a.createElement("a",{href:"/",className:"nav-branding"},"Simple Blog"))}),b=n(3),d=n(4),h=n(6),f=n(5),E=n(7),v=n(41),y=n.n(v).a.create({baseURL:"https://simple-blog-api.crew.red"}),O=(n(73),function(t){var e=t.posts;return r.a.createElement(r.a.Fragment,null,e.map(function(t){return r.a.createElement("div",{className:"postlist-item",key:t.id},r.a.createElement("h4",{className:"postlist-item__title"},t.title),r.a.createElement("p",{className:"postlist-item__body"},t.body),r.a.createElement("div",{className:"postlist-item__links"},r.a.createElement("div",{className:"postlist-item__link-item"},r.a.createElement("div",{className:"postlist-item__view-icon"}),r.a.createElement(u.b,{to:"/posts/".concat(t.id)},"Read Post")),r.a.createElement("div",{className:"postlist-item__link-item"},r.a.createElement("div",{className:"postlist-item__edit-icon"}),r.a.createElement(u.b,{to:"/posts/edit/".concat(t.id)},"Edit Post")),r.a.createElement("div",{className:"postlist-item__link-item"},r.a.createElement("div",{className:"postlist-item__delete-icon"}),r.a.createElement(u.b,{to:"/posts/delete/".concat(t.id)},"Delete Post"))))}))}),j=function(t){function e(){return Object(b.a)(this,e),Object(h.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(E.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){(0,this.props.onFetchPosts)()}},{key:"render",value:function(){var t=this.props,e=t.loading,n=t.posts;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null," Latest Blog Posts"),r.a.createElement(u.b,{to:"/posts/new",className:"btn"},"Add New"),e?r.a.createElement("p",null,"loading.."):r.a.createElement(O,{posts:n}))}}]),e}(a.Component),g=Object(l.b)(function(t){return{posts:t.posts.posts,loading:t.posts.loading}},function(t){return{onFetchPosts:function(){return t(function(t){t({type:"POSTS_FETCH_START"}),y.get("/posts").then(function(e){t({type:"POSTS_FETCH_SUCCESS",posts:e.data})}).catch(function(){var e;t({type:"POSTS_FETCH_FAIL",error:e})})})}}})(j),_=n(43),S=n(2),C=n.n(S),w=n(13),P=n(20),k=(n(78),function(t){function e(){var t,n;Object(b.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(r)))).state={comment:""},n.onChange=function(t){n.setState(Object(P.a)({},t.target.name,t.target.value))},n.onPublish=function(t){t.preventDefault(),n.setState({comment:""}),n.props.onSubmit(n.state.comment)},n}return Object(E.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this.state.text;return r.a.createElement("form",{className:"comment-form"},r.a.createElement("textarea",{className:"comment-form__textarea",name:"comment",placeholder:"Write Your Comment Here...",value:t,onChange:this.onChange}),r.a.createElement("button",{className:"comment-form__submit",onClick:this.onPublish},"Publish Comment"))}}]),e}(a.Component)),N=(n(79),function(t){var e=t.comments;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"comments-list"},e.map(function(t){return r.a.createElement("li",{key:t.id,className:"comments-list__item"},t.body)})))}),x=function(t){function e(){var t,n;Object(b.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(r)))).state={title:"",body:"",comments:[],comment_body:""},n.fetch=function(){var t=Object(w.a)(C.a.mark(function t(e){var a;return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("posts/".concat(e,"?_embed=comments"));case 2:a=t.sent,n.setState({title:a.data.title,body:a.data.body,comments:a.data.comments});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n.publishComment=function(){var t=Object(w.a)(C.a.mark(function t(e){var a,r;return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.props.match.params.id,t.next=3,y.post("/comments",{postId:a,body:e});case 3:r=t.sent,n.setState({comments:[].concat(Object(_.a)(n.state.comments),[{id:r.data.id,postId:a,body:e}])});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n.onCommentSubmit=function(t){n.publishComment(t)},n}return Object(E.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=Object(w.a)(C.a.mark(function t(){var e;return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.props.match.params.id,this.fetch(e);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,e=t.title,n=t.body,a=t.comments;return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,e),r.a.createElement("p",null,n)),r.a.createElement("hr",null),r.a.createElement("h3",null,"Comments"),a&&r.a.createElement(N,{comments:a}),r.a.createElement("h5",null,"Leave Your Comment"),r.a.createElement(k,{onSubmit:this.onCommentSubmit}),r.a.createElement("a",{href:"/"},"Back to Posts List"))}}]),e}(a.Component),F=(n(80),function(t){function e(){var t,n;Object(b.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(r)))).state={title:"",body:""},n.onChange=function(t){n.setState(Object(P.a)({},t.target.name,t.target.value))},n.onSubmit=function(t){t.preventDefault();var e=n.state,a=e.title,r=e.body;n.props.onSubmit({title:a,body:r})},n}return Object(E.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.title,n=t.body;this.setState({title:e,body:n})}},{key:"render",value:function(){var t=this.state,e=t.title,n=t.body;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"post-form"},r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",name:"title",id:"title",placeholder:"Title",value:e,onChange:this.onChange})),r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"body"},"Body"),r.a.createElement("textarea",{type:"text",name:"body",id:"body",placeholder:"Body",value:n,onChange:this.onChange})),r.a.createElement("div",{className:"form-control"},r.a.createElement("button",{className:"post-form__submit",onClick:this.onSubmit},"Publish"))))}}]),e}(a.Component)),T=F;F.defaultProps={title:"",body:""};var D=function(t){function e(){var t,n;Object(b.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(r)))).onSubmit=function(t){var e=t.title,a=t.body,r=n.props.match.params.id;n.publish({id:r,title:e,body:a})},n.publish=function(){var t=Object(w.a)(C.a.mark(function t(e){var a,r,o;return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.id,r=e.title,o=e.body,t.next=3,y.put("/posts/".concat(a),{title:r,body:o});case 3:t.sent,n.props.history.push("/");case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(E.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this.props.match.params.id,e=this.props.posts.find(function(e){return e.id===+t});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Edit Post"),r.a.createElement(T,{title:e.title,body:e.body,onSubmit:this.onSubmit}),r.a.createElement("a",{href:"/"},"Back to Posts List"))}}]),e}(a.Component),A=Object(l.b)(function(t){return{posts:t.posts.posts,loading:t.posts.loading}})(D),L=function(t){function e(){var t,n;Object(b.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(r)))).onSubmit=function(t){var e=t.title,a=t.body;n.publish({title:e,body:a})},n.publish=function(){var t=Object(w.a)(C.a.mark(function t(e){var a,r;return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.id,a=e.title,r=e.body,t.next=3,y.post("/posts/",{title:a,body:r});case 3:n.props.history.push("/");case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(E.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Compose New Post"),r.a.createElement(T,{title:"",body:"",onSubmit:this.onSubmit}),r.a.createElement("a",{href:"/"},"Back to Posts List"))}}]),e}(a.Component),B=function(t){function e(){var t,n;Object(b.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(r)))).onDelete=function(t){var e=n.props.match.params.id;n.deletePost(e)},n.onCancel=function(t){n.props.history.push("/")},n.deletePost=function(){var t=Object(w.a)(C.a.mark(function t(e){return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.delete("/posts/".concat(e));case 2:n.props.history.push("/");case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(E.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this.props.match.params.id,e=this.props.posts.find(function(e){return e.id===+t});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Are You Shure Want to Delete this Post?"),r.a.createElement("h3",null,e.title),r.a.createElement("p",null,e.body),r.a.createElement("div",{className:"delete-form-actions"},r.a.createElement("button",{className:"btn",onClick:this.onCancel},"Cancel"),r.a.createElement("button",{className:"btn btn--danger",onClick:this.onDelete},"Delete")))}}]),e}(a.Component),H=Object(l.b)(function(t){return{posts:t.posts.posts,loading:t.posts.loading}})(B),I=function(){return r.a.createElement("h1",null,"404 Page Not Found")};var R=function(){return r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(p,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:g}),r.a.createElement(m.a,{exact:!0,path:"/posts/new",component:L}),r.a.createElement(m.a,{exact:!0,path:"/posts/edit/:id",component:A}),r.a.createElement(m.a,{exact:!0,path:"/posts/delete/:id",component:H}),r.a.createElement(m.a,{exact:!0,path:"/posts/:id",component:x}),r.a.createElement(m.a,{component:I}))))};function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(n,!0).forEach(function(e){Object(P.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Y={posts:[],loading:!1,error:!1},J=function(t){return U({},t,{loading:!0})},W=function(t,e){return U({},t,{posts:e.posts,loading:!1})},X=function(t,e){return U({},t,{loading:!1,error:e.error})},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"POSTS_FETCH_START":return J(t);case"POSTS_FETCH_SUCCESS":return W(t,e);case"POSTS_FETCH_FAIL":return X(t,e);default:return t}},q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,z=Object(s.c)({posts:V}),G=Object(s.e)(z,q(Object(s.a)(i.a)));c.a.render(r.a.createElement(l.a,{store:G},r.a.createElement(R,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.0f7b0823.chunk.js.map